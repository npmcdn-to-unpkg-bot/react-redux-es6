{"name":"redux-immutable-state-invariant","version":"1.2.3","description":"Redux middleware that detects mutations between and outside redux dispatches. For development use only.","main":"dist/index.js","scripts":{"clean":"rm -rf dist","build":"babel --out-dir dist src","test":"mocha --compilers js:babel/register","prepublish":"npm run clean && npm run build","example":"cd example && rm -rf node_modules/redux-immutable-state-invariant && npm install && npm start"},"author":{"name":"Leonardo Andres Garcia Crespo","email":"leoasis@gmail.com"},"license":"MIT","devDependencies":{"babel":"^5.8.3","expect":"^1.8.0","mocha":"^2.2.5"},"dependencies":{"invariant":"^2.1.0","json-stringify-safe":"^5.0.1"},"readme":"# redux-immutable-state-invariant\n\n[![Build Status](https://travis-ci.org/leoasis/redux-immutable-state-invariant.png)](https://travis-ci.org/leoasis/redux-immutable-state-invariant)\n\nRedux middleware that spits an error on you when you try to mutate your state either inside a dispatch or between dispatches. **For development use only!**\n\n## Why?\n\nBecause [you're not allowed to mutate your state in your reducers](http://redux.js.org/docs/Troubleshooting.html#never-mutate-reducer-arguments)!. And by extension, you shouldn't mutate them either outside. In order to change state in your app, you should always return a new instance of your state with the changes.\n\nIf you're using a library such as `Immutable.js`, this is automatically done for you since the structures provided by that library don't allow you to mutate them (as long as you don't have mutable stuff as values in those collections). However, if you're using regular objects and arrays, you should be careful to avoid mutations.\n\n## How to install\n\nThis lib is intended to use only during development. **Don't use this in production!**\n\n```js\nnpm install --save-dev redux-immutable-state-invariant\n```\n\n## How to use\n\nAs said above, **don't use this in production!** It involves a lot of object copying and will degrade your app's performance. This is intended to be a tool to aid you in development and help you catch bugs.\n\nTo use it, just add it as a middleware in your redux store:\n\n```js\nconst {applyMiddleware, combineReducers, createStore} = require('redux');\nconst thunk = require('redux-thunk');\nconst reducer = require('./reducers/index');\n\n// Be sure to ONLY add this middleware in development!\nconst middleware = process.env.NODE_ENV !== 'production' ?\n  [require('redux-immutable-state-invariant')(), thunk] :\n  [thunk];\n\n// Note passing middleware as the last argument to createStore requires redux@>=3.1.0\nconst store = createStore(\n  reducer,\n  applyMiddleware(...middleware)\n);\n```\n\nThen if you're doing things correctly, you should see nothing different. But if you don't, that is, if you're mutating your data somewhere in your app either in a dispatch or between dispatches, an error will be thrown with a (hopefully) descriptive message.\n","readmeFilename":"README.md","_id":"redux-immutable-state-invariant@1.2.3","_shasum":"d8df01c2f38ab5df1f434cd2613b5e8c4e9f9d83","_resolved":"https://registry.npmjs.org/redux-immutable-state-invariant/-/redux-immutable-state-invariant-1.2.3.tgz","_from":"https://registry.npmjs.org/redux-immutable-state-invariant/-/redux-immutable-state-invariant-1.2.3.tgz"}